# 상속

## 상속성(inheritance)

- C에서는 이미 기계어로 번역되어 한번 개발된 라이브러리는 정적인 특성을 가지고 있어 새로운 내용을 추가할 수 없으며 새로운 내용을 추가하려면 처음부터 다시 작성해야 한다.
- 객체지향언어인 C++에서는 상속성을 제공하여 이러한 작업의 중복을 지양하고 프로그램의 개발시간의 단축, 기존의 프로그램의 재사용, 경비절감 등을 이룰 수 있다.
- 이미 존재하는 클래스로부터 기본적인 특성을 물려받아 그대로 사용하고 새로운 특성만을 추가로 정의한다.

## 클래스들의 계층구조

- 위쪽의 클래스는 일반화되어 있어 속성이 간단하며, 아래 클래스들의 공통적인 속성만을 갖는다.
- 아래쪽의 클래스는 위쪽 클래스의 속성을 상속 받으며, 자신의 개별적인 속성을 추가하여 속성이 많아진다.

## 상속 과정

- 계층적으로 상속을 받게 되면 기존의 클래스를 그대로 사용할 수 있는 장점이 있고 또한 새로운 클래스를 보다 쉽게 만들 수 있다.

## 클래스 상속 형식

```cpp
class 파생클래스명 : 상속접근제어 기본클래스명 {

};
class Dog : public Animal {

};
```

- Animal클래스로부터 pubilc으로 상속받은 Dog클래스

# 상속에서 기본(부모)클래스와 파생(자식)클래스

## 상속 접근제어 속성에 따른 파생 클래스 멤버의 속성변화

- 상속 접근제어 속성에 따라 기본 클래스 멤버의 속성이 파생 클래스에서 어떻게 변하는지를 나타낸다.

속성 | private | protected | public
:---: | :---: | :---: | :---:
private | 상속불가 | 상속불가 | 상속불가
protected | private | protected | protected
public | private | protected | public

# 상속접근제어

## public 상속 접근 제어

- public 상속 접근인 경우에는 기본 클래스의 모든 public, protected멤버들은 파생 클래스의 public, protected 멤버가 된다.
- 기본 클래스의 private 멤버는 private 멤버로 남고, 파생 클래스에 의해서 접근될 수 없다.
- 일반적으로 가장 많이 사용하는 상속 접근 제어이다.

## private 상속 접근제어

- private 상속 접근인 경우에는 기본 클래스의 모든 멤버가 파생 클래스의 rivate 멤버가 된다.
- 기본 클래스의 public 멤버들은 클래스의 외부 (main함수 등)에서는 접근이 불가능 하고, 오직 파생클래스의 멤버함수에 의해서만 접근할 수 있다.
- 다른 사람 모르게 자기 자식에게만 비밀리에 상속함

## protected 상속 접근제어 속성

- 거의 사용하지 않음

# protected멤버

## protected 접근제어속성

- 어떠한 방식으로 상속 받더라도 파생 클래스는 기본 클래스의 private 멤버를 접근할 수 없다.
  - 파생 클래스가 기본 클래스의 어떤 멤버를 접근할 수 있으려면 그 멤버는 public이 되어야 한다.
- 그러나 기본 클래스에서 private 멤버 속성을 유지하면서 파생 클래스가 접근하는 것이 가능하도록 하는 경우가 있는데, 이 때 사용하는 것이 protected 접근이다.
- protected 접근은 기본 클래스의 protected 멤버들이 파생 클래스의 멤버에 의해 접근될 수 있다는 것을 제외하고는 private 접근과 같다.
- 기본 클래스나 파생클래스 이외의 부분에서는 protected 멤버를 접근할 수 없다.

## protected멤버 + public상속

- 클래스를 만들 때 클래스 외부에서는 접근하지 못하게 하고 자식클래스에서는 마음대로 접근할 수 있게 하려면 멤버의 속성을 protected로 사용
- 상속은 public으로

# 상속에서 생성자와 소멸자

## 상속에서 생성자와 소멸자

- 기본 클래스, 파생클래스, 또는 두 클래스 모두가 생성자나 소멸자를 가질 수 있다.
- 기본 클래스와 파생 클래스가 모두 생성자와 소멸자를 가질 때, 생성자는 파생된 순서에 따라 실행된다.
- 즉, 기본 클래스 생성자는 파생 클래스 생성자보다 먼저 실행된다(부모가 있어야 자식이 태어남).
- 소멸자는 역순으로 실행된다.
- 즉, 파생 클래스의 소멸자는 기본 클래스의 소멸자보다 먼저 실행된다.
  - 부모 생성자
  - 자식 생성자
  - 자식 소멸자
  - 부모 소멸자

## 매개변수가 있는 생성자를 갖는 클래스의 상속

- 자식클래스의 객체가 만들어지기 위해서는 부모클래스의 생성자를 자동적으로 먼저 호출하는데 매개변수가 없이는 생성자가 실행되지 않는다.
- 그러므로 부모클래스의 생성자가 매개변수를 가지고 있으면 그 매개변수 개수 만큼 자식클래스의 객체를 만들 때 넘겨줘야 한다.

# 계층적 다중 상속

## 계층적 다중 상속

- 파생 클래스가 여러 개의 기본 클래스를 상속 받을 수 있다.
- 파생 클래스가 또 다른 파생 클래스의 기본 클래스로 사용되는 방법으로 다중 클래스 계층을 형성한다.
- 할아버지 클래스로부터 아버지 클래스를 상속 받고, 아버지 클래스로부터 자식 클래스가 상속되는 것이 그 예이다.
- Visual C++과 함께 제공되는 MFC도 계층적인 구조로 상속한다.

## 주요 MFC의 계층 구조

- ``` CObject ``` 거의 모든 MFC 클래스의 기반 클래스
  - ``` CCmdTarget ``` 커맨드(명령) 메시지를 받는 기능
    - ``` CWinApp ``` 프로그램을 구동시키는 기능
    - ``` CDocument ``` 데이터를 저장하고 처리하는 기능
    - ``` CWnd ``` 윈도우에 관련된 기능 (눈에 보이는 오브젝트)
      - ``` CFrameWnd ``` 프로그램 윈도우 프레임(외곽)을 관리하는 기능
      - ``` CView ``` 데이터를 보여주는 윈도우를 관리하는 기능

## AppWizard로 자동 생성된 클래스

- MFC 기본 클래스 | 파생 클래스 (프로젝트명 : My)
- ``` CObject ```
  - ``` CCmdTarget ```
    - ``` CWinApp ``` → ``` CMyApp ```
    - ``` CDocument ``` → ``` CMyDoc ```
    - ``` CWnd ```
      - ``` CFrameWnd ``` → ``` CMainFrame ```
      - ``` CView ``` → ``` CMyView ```

## 출처

C++프로그래밍(21-2학기)한성현교수 강의 내용 변형 및 요약  
Computer S/W, [Induk Univ][googlelink]  
한성현 교수님 -  hsh@induk.ac.kr  
C/C++ 프로그래밍 | 송재철, 한성현, 김경신 공저 | 양서각 | 2007년 03월 03일

[id]: URL "Optional Title here"
[googlelink]: https://www.induk.ac.kr "Go google"